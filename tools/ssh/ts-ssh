#!/bin/bash
# Simple wrapper for connecting to other devices via Tailscale SSH

TARGET="$1"

if ! command -v tailscale &> /dev/null; then
  echo "❌ Tailscale is not installed. Please install it first."
  exit 1
fi

tailscale status > /dev/null 2>&1
if [ $? -ne 0 ]; then
  echo "🔐 Not logged in. Opening login prompt..."
  tailscale up
fi

echo "📡 Connecting to $TARGET via Tailscale SSH..."
ssh "$TARGET".ts.net
